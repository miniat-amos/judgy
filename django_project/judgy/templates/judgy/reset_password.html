{% extends 'judgy/base.html' %}

{% block title %}Reset Password{% endblock %}

{% block main %}

{% if invalid_link_message %}
    <div class="alert alert-warning alert-dismissible fade show fixed-top text-center" role="alert">
        {{ invalid_link_message }}
        <button class="btn btn-close" data-bs-dismiss="alert"></button>
        <div class="mt-3">
        <a href="{% url 'judgy:forgot_password' %}" class="btn btn-outline-secondary">
            Request a New Link
        </a>
        </div>
    </div>
{% endif %}

{% if form %}
    {% for errors in form.errors.values %}
        {% for error in errors %}
            <div
            class="alert alert-danger alert-dismissible fade fixed-top show text-center"
            role="alert"
            >
            {{ error }}
            <button class="btn btn-close" data-bs-dismiss="alert"></button>
            </div>
        {% endfor %}
    {% endfor %}

    <div
    class="align-items-center d-flex justify-content-center text-center"
    style="height: calc(100vh - 7.5rem)"
    >
    <form method="post">
        {% csrf_token %}

        <h2>Reset Password</h2>

        <div class="my-3">
        <div class="form-floating">
            {{ form.new_password1 }}
            <label for="id_new_password1">New Password</label>
        </div>
        </div>

        <div class="my-3">
        <div class="form-floating">
            {{ form.new_password2 }}
            <label for="id_new_password2">Confirm New Password</label>
        </div>
        </div>

        <button class="btn btn-primary p-2 w-100">Reset Password</button>
    </form>
    </div>
{% endif %}

{% endblock %}
